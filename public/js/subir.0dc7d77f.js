(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subir"],{"8b88":function(e,t,a){"use strict";a("f123")},b0c0:function(e,t,a){var n=a("83ab"),o=a("9bf2").f,c=Function.prototype,l=c.toString,u=/^\s*function ([^ (]*)/,r="name";n&&!(r in c)&&o(c,r,{configurable:!0,get:function(){try{return l.call(this).match(u)[1]}catch(e){return""}}})},c4db:function(e,t,a){"use strict";a.r(t);var n=a("7a23");Object(n["v"])("data-v-c03d4d4a");var o={class:"subir"},c=Object(n["f"])("div",{class:"tituloCont"},[Object(n["f"])("h2",{class:"titulo"},"Subir Post")],-1),l={class:"formulario"};function u(e,t,a,u,r,i){return Object(n["s"])(),Object(n["e"])("section",o,[c,Object(n["f"])("div",l,[Object(n["G"])(Object(n["f"])("input",{class:"tituloImp","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.titulo=e}),name:"titulo",placeholder:"Titulo",type:"text"},null,512),[[n["D"],u.titulo]]),Object(n["f"])("input",{class:"imagen",onChange:t[1]||(t[1]=function(){return u.onFileChange&&u.onFileChange.apply(u,arguments)}),name:"imagen",type:"file"},null,32),Object(n["G"])(Object(n["f"])("textarea",{class:"extracto","onUpdate:modelValue":t[2]||(t[2]=function(e){return u.extracto=e}),name:"extracto",placeholder:"Extracto"},null,512),[[n["D"],u.extracto]]),Object(n["G"])(Object(n["f"])("textarea",{class:"texto","onUpdate:modelValue":t[3]||(t[3]=function(e){return u.texto=e}),name:"texto",placeholder:"Texto"},null,512),[[n["D"],u.texto]]),Object(n["f"])("button",{class:"enviar",name:"enviar",onClick:t[4]||(t[4]=function(e){return u.savePost()})},"Guardar"),u.errors.length>0?(Object(n["s"])(!0),Object(n["e"])(n["a"],{key:0},Object(n["y"])(u.errors,(function(e){return Object(n["s"])(),Object(n["e"])("p",{class:"errors",key:e},"* "+Object(n["B"])(e),1)})),128)):Object(n["d"])("",!0)])])}Object(n["t"])();a("b0c0");var r=a("bc3a"),i=a.n(r),s={setup:function(){var e=Object(n["x"])(""),t=Object(n["x"])(""),a=Object(n["x"])(""),o=Object(n["x"])(""),c=Object(n["x"])([]),l=function(e){t.value=e},u=function(e){var t=e.target.files||e.dataTransfer.files;t.length&&l(t[0])},r=function(){c.value=[];var n=!0;if((!e.value||e.value.length>200)&&(n=!1,c.value.push("El campo titulo no debe estar vacio y debe ser menor a 200 caracteres")),(!a.value||a.value.length>250)&&(n=!1,c.value.push("El extracto no puede estar vacio y debe ser menor a 250 caracteres")),o.value||(n=!1,c.value.push("El texto no puede estar vacio")),t.value){var l=t.value.type,u=t.value.name,r=t.value.size;r>2e6&&(n=!1,c.value.push("El tamaÃ±o de la imagen debe ser menor a 2MB")),u.length>50&&(n=!1,c.value.push("El nombte de la imagen debe ser menor a 50 caracteres")),"image/jpeg"==l||"image/png"==l||(n=!1,c.value.push("El archivo no es una imagen valida los formatos admitidos son jpeg y png"))}else n=!1,c.value.push("Debe agregar una imagen");return n},s=function(){var e=new FormData;e.append("file",t.value),i.a.post("http://localhost:3000/api/articulo/upload",e).then((function(e){console.log(e)})).catch(console.log)},b=function(){var n={titulo:e.value,extracto:a.value,texto:o.value,thumb:t.value.name};i.a.post("http://localhost:3000/api/articulo/add",n).then((function(e){console.log(e)})).catch(console.log)},v=function(){r()?(console.log("validado"),s(),b()):console.log("invalido")};return{titulo:e,imagen:t,extracto:a,texto:o,errors:c,onFileChange:u,savePost:v}}};a("8b88");s.render=u,s.__scopeId="data-v-c03d4d4a";t["default"]=s},f123:function(e,t,a){}}]);
//# sourceMappingURL=subir.0dc7d77f.js.map